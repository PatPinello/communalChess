{"ast":null,"code":"var _jsxFileName = \"/home/pat/Documents/communalChess/communalChess/communalChess/client/src/pages/PlayChess.js\",\n  _s = $RefreshSig$();\nimport { Chessboard } from 'react-chessboard';\nimport './chess.css';\nimport { Chess } from 'chess.js';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PlayChess() {\n  _s();\n  const [game, setGame] = useState(new Chess());\n\n  //game\n  function safeGameMutate(modify) {\n    setGame(g => {\n      const update = {\n        ...g\n      };\n      modify(update);\n      return update;\n    });\n  }\n  function makeRandomMove() {\n    const possibleMove = game.moves();\n    if (game.game_over() || game.in_draw() || possibleMove.length === 0) return;\n    const randomIndex = Math.floor(Math.random() * possibleMove.length);\n    safeGameMutate(game => {\n      game.move(possibleMove[randomIndex]);\n    });\n  }\n  function onDrop(source, target) {\n    let move = null;\n    const possibleMoveWhite = game.moves();\n    alert(\"white\" + possibleMoveWhite);\n    safeGameMutate(game => {\n      move = game.move({\n        from: source,\n        to: target,\n        promotion: 'q'\n      });\n    });\n    if (move == null) return false;\n    setTimeout(makeRandomMove, 200);\n    return true;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chessBoard\",\n    children: /*#__PURE__*/_jsxDEV(Chessboard, {\n      position: game.fen(),\n      onPieceDrop: onDrop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(PlayChess, \"PR4LgXfU0ine+RDS7OWnXVoOg2E=\");\n_c = PlayChess;\nexport default PlayChess;\nvar _c;\n$RefreshReg$(_c, \"PlayChess\");","map":{"version":3,"names":["Chessboard","Chess","useState","jsxDEV","_jsxDEV","PlayChess","_s","game","setGame","safeGameMutate","modify","g","update","makeRandomMove","possibleMove","moves","game_over","in_draw","length","randomIndex","Math","floor","random","move","onDrop","source","target","possibleMoveWhite","alert","from","to","promotion","setTimeout","className","children","position","fen","onPieceDrop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/pat/Documents/communalChess/communalChess/communalChess/client/src/pages/PlayChess.js"],"sourcesContent":["import { Chessboard } from 'react-chessboard'\nimport './chess.css'\nimport {Chess} from 'chess.js'\nimport { useState } from 'react'\n\n\nfunction PlayChess(){\n    const [game, setGame] = useState(new Chess())\n\n    //game\n    function safeGameMutate(modify){\n        setGame((g)=>{\n            const update = {...g}\n            modify(update)\n            return update\n        })\n    }\n    function makeRandomMove(){\n        const possibleMove = game.moves()\n        \n        if(game.game_over() || game.in_draw() || possibleMove.length === 0) return;\n\n        const randomIndex = Math.floor(Math.random() * possibleMove.length)\n\n        safeGameMutate((game)=>{\n            game.move(possibleMove[randomIndex])\n        })\n    }\n\n    function onDrop(source,target){\n        let move=null\n        const possibleMoveWhite = game.moves()\n        alert(\"white\" + possibleMoveWhite)\n        safeGameMutate((game)=>{\n            move = game.move({\n                from:source,\n                to: target,\n                promotion: 'q'\n            })\n        })\n        if(move==null) return false\n\n        setTimeout(makeRandomMove, 200)\n        return true\n    }\n\n    return(  \n        <div className='chessBoard'>\n            <Chessboard \n                position={game.fen()}\n                onPieceDrop = {onDrop}\n            />\n        </div>\n        \n    )\n}\nexport default PlayChess"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,kBAAkB;AAC7C,OAAO,aAAa;AACpB,SAAQC,KAAK,QAAO,UAAU;AAC9B,SAASC,QAAQ,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGhC,SAASC,SAASA,CAAA,EAAE;EAAAC,EAAA;EAChB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAID,KAAK,CAAC,CAAC,CAAC;;EAE7C;EACA,SAASQ,cAAcA,CAACC,MAAM,EAAC;IAC3BF,OAAO,CAAEG,CAAC,IAAG;MACT,MAAMC,MAAM,GAAG;QAAC,GAAGD;MAAC,CAAC;MACrBD,MAAM,CAACE,MAAM,CAAC;MACd,OAAOA,MAAM;IACjB,CAAC,CAAC;EACN;EACA,SAASC,cAAcA,CAAA,EAAE;IACrB,MAAMC,YAAY,GAAGP,IAAI,CAACQ,KAAK,CAAC,CAAC;IAEjC,IAAGR,IAAI,CAACS,SAAS,CAAC,CAAC,IAAIT,IAAI,CAACU,OAAO,CAAC,CAAC,IAAIH,YAAY,CAACI,MAAM,KAAK,CAAC,EAAE;IAEpE,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGR,YAAY,CAACI,MAAM,CAAC;IAEnET,cAAc,CAAEF,IAAI,IAAG;MACnBA,IAAI,CAACgB,IAAI,CAACT,YAAY,CAACK,WAAW,CAAC,CAAC;IACxC,CAAC,CAAC;EACN;EAEA,SAASK,MAAMA,CAACC,MAAM,EAACC,MAAM,EAAC;IAC1B,IAAIH,IAAI,GAAC,IAAI;IACb,MAAMI,iBAAiB,GAAGpB,IAAI,CAACQ,KAAK,CAAC,CAAC;IACtCa,KAAK,CAAC,OAAO,GAAGD,iBAAiB,CAAC;IAClClB,cAAc,CAAEF,IAAI,IAAG;MACnBgB,IAAI,GAAGhB,IAAI,CAACgB,IAAI,CAAC;QACbM,IAAI,EAACJ,MAAM;QACXK,EAAE,EAAEJ,MAAM;QACVK,SAAS,EAAE;MACf,CAAC,CAAC;IACN,CAAC,CAAC;IACF,IAAGR,IAAI,IAAE,IAAI,EAAE,OAAO,KAAK;IAE3BS,UAAU,CAACnB,cAAc,EAAE,GAAG,CAAC;IAC/B,OAAO,IAAI;EACf;EAEA,oBACIT,OAAA;IAAK6B,SAAS,EAAC,YAAY;IAAAC,QAAA,eACvB9B,OAAA,CAACJ,UAAU;MACPmC,QAAQ,EAAE5B,IAAI,CAAC6B,GAAG,CAAC,CAAE;MACrBC,WAAW,EAAIb;IAAO;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAGd;AAACnC,EAAA,CAjDQD,SAAS;AAAAqC,EAAA,GAATrC,SAAS;AAkDlB,eAAeA,SAAS;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}