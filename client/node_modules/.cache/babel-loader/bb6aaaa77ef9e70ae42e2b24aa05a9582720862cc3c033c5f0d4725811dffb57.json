{"ast":null,"code":"var _jsxFileName = \"/home/pat/Documents/communalChess/communalChess/communalChess/client/src/pages/PlayChess.js\",\n  _s = $RefreshSig$();\nimport { Chessboard } from 'chessboardjsx';\nimport './chess.css';\nimport * as ChessJS from \"chess.js\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PlayChess() {\n  _s();\n  const [game, setGame] = useState(new Chess());\n\n  //game\n  function safeGameMutate(modify) {\n    setGame(g => {\n      const update = {\n        ...g\n      };\n      modify(update);\n      return update;\n    });\n  }\n  function makeRandomMove() {\n    const possibleMove = game.move();\n    if (game.game_over() || game.in_draw() || possibleMove.length === 0) return;\n    const randomIndex = Math.floor(Math.random() * possibleMove.length);\n    safeGameMutate(game => {\n      game.move(possibleMove[randomIndex]);\n    });\n  }\n  function onDrop(source, target) {\n    let move = null;\n    safeGameMutate(game => {\n      move = game.move({\n        from: source,\n        to: target,\n        promotion: 'q'\n      });\n    });\n    if (move == null) return false;\n    setTimeout(makeRandomMove, 200);\n    return true;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chessBoard\",\n    children: /*#__PURE__*/_jsxDEV(Chessboard, {\n      position: game.fen(),\n      onPieceDrop: onDrop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(PlayChess, \"PR4LgXfU0ine+RDS7OWnXVoOg2E=\");\n_c = PlayChess;\nexport default PlayChess;\nvar _c;\n$RefreshReg$(_c, \"PlayChess\");","map":{"version":3,"names":["Chessboard","ChessJS","useState","jsxDEV","_jsxDEV","PlayChess","_s","game","setGame","Chess","safeGameMutate","modify","g","update","makeRandomMove","possibleMove","move","game_over","in_draw","length","randomIndex","Math","floor","random","onDrop","source","target","from","to","promotion","setTimeout","className","children","position","fen","onPieceDrop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/pat/Documents/communalChess/communalChess/communalChess/client/src/pages/PlayChess.js"],"sourcesContent":["import { Chessboard } from 'chessboardjsx'\nimport './chess.css'\nimport * as ChessJS from \"chess.js\";\nimport { useState } from 'react'\n\nfunction PlayChess(){\n    const [game, setGame] = useState(new Chess())\n\n    //game\n    function safeGameMutate(modify){\n        setGame((g)=>{\n            const update = {...g}\n            modify(update)\n            return update\n        })\n    }\n    function makeRandomMove(){\n        const possibleMove = game.move()\n\n        if(game.game_over() || game.in_draw() || possibleMove.length === 0) return;\n\n        const randomIndex = Math.floor(Math.random() * possibleMove.length)\n\n        safeGameMutate((game)=>{\n            game.move(possibleMove[randomIndex])\n        })\n    }\n\n    function onDrop(source,target){\n        let move=null\n        safeGameMutate((game)=>{\n            move = game.move({\n                from:source,\n                to: target,\n                promotion: 'q'\n            })\n        })\n        if(move==null) return false\n\n        setTimeout(makeRandomMove, 200)\n        return true\n    }\n\n\n\n    return(  \n        <div className='chessBoard'>\n            <Chessboard \n                position={game.fen()}\n                onPieceDrop = {onDrop}\n            />\n        </div>\n        \n    )\n}\nexport default PlayChess"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,OAAO,aAAa;AACpB,OAAO,KAAKC,OAAO,MAAM,UAAU;AACnC,SAASC,QAAQ,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEhC,SAASC,SAASA,CAAA,EAAE;EAAAC,EAAA;EAChB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAIO,KAAK,CAAC,CAAC,CAAC;;EAE7C;EACA,SAASC,cAAcA,CAACC,MAAM,EAAC;IAC3BH,OAAO,CAAEI,CAAC,IAAG;MACT,MAAMC,MAAM,GAAG;QAAC,GAAGD;MAAC,CAAC;MACrBD,MAAM,CAACE,MAAM,CAAC;MACd,OAAOA,MAAM;IACjB,CAAC,CAAC;EACN;EACA,SAASC,cAAcA,CAAA,EAAE;IACrB,MAAMC,YAAY,GAAGR,IAAI,CAACS,IAAI,CAAC,CAAC;IAEhC,IAAGT,IAAI,CAACU,SAAS,CAAC,CAAC,IAAIV,IAAI,CAACW,OAAO,CAAC,CAAC,IAAIH,YAAY,CAACI,MAAM,KAAK,CAAC,EAAE;IAEpE,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGR,YAAY,CAACI,MAAM,CAAC;IAEnET,cAAc,CAAEH,IAAI,IAAG;MACnBA,IAAI,CAACS,IAAI,CAACD,YAAY,CAACK,WAAW,CAAC,CAAC;IACxC,CAAC,CAAC;EACN;EAEA,SAASI,MAAMA,CAACC,MAAM,EAACC,MAAM,EAAC;IAC1B,IAAIV,IAAI,GAAC,IAAI;IACbN,cAAc,CAAEH,IAAI,IAAG;MACnBS,IAAI,GAAGT,IAAI,CAACS,IAAI,CAAC;QACbW,IAAI,EAACF,MAAM;QACXG,EAAE,EAAEF,MAAM;QACVG,SAAS,EAAE;MACf,CAAC,CAAC;IACN,CAAC,CAAC;IACF,IAAGb,IAAI,IAAE,IAAI,EAAE,OAAO,KAAK;IAE3Bc,UAAU,CAAChB,cAAc,EAAE,GAAG,CAAC;IAC/B,OAAO,IAAI;EACf;EAIA,oBACIV,OAAA;IAAK2B,SAAS,EAAC,YAAY;IAAAC,QAAA,eACvB5B,OAAA,CAACJ,UAAU;MACPiC,QAAQ,EAAE1B,IAAI,CAAC2B,GAAG,CAAC,CAAE;MACrBC,WAAW,EAAIX;IAAO;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAGd;AAACjC,EAAA,CAjDQD,SAAS;AAAAmC,EAAA,GAATnC,SAAS;AAkDlB,eAAeA,SAAS;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}